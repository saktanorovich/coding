<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0066)http://www.algorithmist.com/index.php/Talk:LA_-_cNteSahruPfefrlefe -->
<HTML dir=ltr 
lang=en><HEAD><TITLE>Talk:LA - cNteSahruPfefrlefe - Algorithmist</TITLE>
<META content="text/html; charset=utf-8" http-equiv=Content-Type>
<META name=GENERATOR content="MSHTML 8.00.6001.18975"><LINK title=Edit 
rel=alternate type=application/x-wiki 
href="/index.php?title=Talk:LA_-_cNteSahruPfefrlefe&amp;action=edit"><LINK 
title=Edit rel=edit 
href="/index.php?title=Talk:LA_-_cNteSahruPfefrlefe&amp;action=edit"><LINK 
rel="shortcut icon" href="/favicon.ico"><LINK title="Algorithmist (en)" 
rel=search type=application/opensearchdescription+xml 
href="/opensearch_desc.php"><LINK title="Creative Commons" rel=meta 
type=application/rdf+xml 
href="/index.php?title=Talk:LA_-_cNteSahruPfefrlefe&amp;action=creativecommons"><LINK 
rel=copyright href="http://www.gnu.org/copyleft/fdl.html"><LINK 
title="Algorithmist Atom feed" rel=alternate type=application/atom+xml 
href="/index.php?title=Special:RecentChanges&amp;feed=atom"><LINK rel=stylesheet 
href="TalkLA%20-%20cNteSahruPfefrlefe%20-%20Algorithmist_files/shared.css" 
media=screen><LINK rel=stylesheet 
href="TalkLA%20-%20cNteSahruPfefrlefe%20-%20Algorithmist_files/commonPrint.css" 
media=print><LINK rel=stylesheet 
href="TalkLA%20-%20cNteSahruPfefrlefe%20-%20Algorithmist_files/main.css" 
media=screen><!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE50Fixes.css?270" media="screen" /><![endif]--><!--[if IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE55Fixes.css?270" media="screen" /><![endif]--><!--[if IE 6]><link rel="stylesheet" href="/skins/monobook/IE60Fixes.css?270" media="screen" /><![endif]--><!--[if IE 7]><link rel="stylesheet" href="/skins/monobook/IE70Fixes.css?270" media="screen" /><![endif]--><LINK 
rel=stylesheet 
href="/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000"><LINK 
rel=stylesheet 
href="/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" 
media=print><LINK rel=stylesheet 
href="/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000"><LINK 
rel=stylesheet 
href="TalkLA%20-%20cNteSahruPfefrlefe%20-%20Algorithmist_files/index.css">
<SCRIPT>
var skin="monobook",
stylepath="/skins",
wgUrlProtocols="http\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:|svn\\:\\/\\/",
wgArticlePath="/index.php/$1",
wgScriptPath="",
wgScriptExtension=".php",
wgScript="/index.php",
wgVariantArticlePath=false,
wgActionPaths={},
wgServer="http://www.algorithmist.com",
wgCanonicalNamespace="Talk",
wgCanonicalSpecialPageName=false,
wgNamespaceNumber=1,
wgPageName="Talk:LA_-_cNteSahruPfefrlefe",
wgTitle="LA - cNteSahruPfefrlefe",
wgAction="view",
wgArticleId=1102,
wgIsArticle=true,
wgUserName=null,
wgUserGroups=null,
wgUserLanguage="en",
wgContentLanguage="en",
wgBreakFrames=false,
wgCurRevisionId=7865,
wgVersion="1.16.0",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=["", ""],
wgDigitTransformTable=["", ""],
wgMainPageTitle="Main Page",
wgFormattedNamespaces={"-2": "Media", "-1": "Special", "0": "", "1": "Talk", "2": "User", "3": "User talk", "4": "Algorithmist", "5": "Algorithmist talk", "6": "File", "7": "File talk", "8": "MediaWiki", "9": "MediaWiki talk", "10": "Template", "11": "Template talk", "12": "Help", "13": "Help talk", "14": "Category", "15": "Category talk"},
wgNamespaceIds={"media": -2, "special": -1, "": 0, "talk": 1, "user": 2, "user_talk": 3, "algorithmist": 4, "algorithmist_talk": 5, "file": 6, "file_talk": 7, "mediawiki": 8, "mediawiki_talk": 9, "template": 10, "template_talk": 11, "help": 12, "help_talk": 13, "category": 14, "category_talk": 15, "image": 6, "image_talk": 7},
wgSiteName="Algorithmist",
wgCategories=[],
wgMWSuggestTemplate="http://www.algorithmist.com/api.php?action=opensearch\x26search={searchTerms}\x26namespace={namespaces}\x26suggest",
wgDBname="wikidb",
wgSearchNamespaces=[0],
wgMWSuggestMessages=["with suggestions", "no suggestions"],
wgRestrictionEdit=[],
wgRestrictionMove=[];
</SCRIPT>

<SCRIPT 
src="TalkLA%20-%20cNteSahruPfefrlefe%20-%20Algorithmist_files/wikibits.js"></SCRIPT>

<SCRIPT 
src="TalkLA%20-%20cNteSahruPfefrlefe%20-%20Algorithmist_files/ajax.js"></SCRIPT>

<SCRIPT 
src="TalkLA%20-%20cNteSahruPfefrlefe%20-%20Algorithmist_files/mwsuggest.js"></SCRIPT>

<SCRIPT 
src="TalkLA%20-%20cNteSahruPfefrlefe%20-%20Algorithmist_files/index.php"></SCRIPT>
</HEAD>
<BODY 
class="mediawiki ltr ns-1 ns-talk page-Talk_LA_-_cNteSahruPfefrlefe skin-monobook">
<DIV id=globalWrapper>
<DIV id=column-content>
<DIV id=content><A id=top></A>
<H1 id=firstHeading class=firstHeading>Talk:LA - cNteSahruPfefrlefe</H1>
<DIV id=bodyContent>
<H3 id=siteSub>From Algorithmist</H3>
<DIV id=contentSub></DIV>
<DIV id=jump-to-nav>Jump to: <A 
href="http://www.algorithmist.com/index.php/Talk:LA_-_cNteSahruPfefrlefe#column-one">navigation</A>, 
<A 
href="http://www.algorithmist.com/index.php/Talk:LA_-_cNteSahruPfefrlefe#searchInput">search</A></DIV><!-- start content -->
<P>We didn't solve this problem at world finals, but Steve and John worked on it 
for a while and the three of us came up with some insights. First off, it's easy 
to calculate the number of shuffles in the input. For each possible number of 
shuffles (1 ≤ <I>n</I> ≤ 10), there can be at most 2<I>n</I> deviations in the 
input when compared to the canonical ordering (shuffling the sorted deck 
<I>n</I> times without making any mistakes). Exactly one value of <I>n</I> will 
match these criteria, since the canonical orderings are so different for each 
number of shuffles. </P>
<P>Once you know the number of shuffles, you have to figure out the locations of 
the mistakes. The best strategy is to work backward from the input, 
"unshuffling" the cards at each step (possibly making a single mistake in the 
process) until the deck returns to sorted order. I recommend using an A* search, 
where the search heuristic is the number of mistakes left to fix. We can 
estimate this value by dividing the number of deviations against the canonical 
ordering by two. --<A title=User:Jeff 
href="http://www.algorithmist.com/index.php/User:Jeff">Jeff</A> 14:11, 9 Sep 
2005 (EDT) </P>
<P><BR></P>
<HR>

<P><BR>Based on Jeff's analysis, I used the following approach to get a <A 
class="external text" href="http://neerc.ifmo.ru/~sta/solutions/shuffle_as.java" 
rel=nofollow>backtracking solution</A> that seem to solve all valid cases I was 
able to create. </P>
<P>Recall that a Hamming distance H(X,Y) between two vectors X and Y is the 
number of different corresponding elements in them. Denote as s(X) shuffling 
vector X. </P>
<P>Denote the initial vector as X. After we have found the number of shuffles n, 
let X_0, X_1, etc, X_n be the deck after the corresponding number of shuffles 
and mistakes, and S_0, S_1, etc, S_n --- the deck after corresponding number of 
shuffles, if no mistakes were made. Note that X = X_n, and S_0 = X_0. </P>
<P>We already know that n is the number between 1 and 10, such that H(S_n, X) is 
minimal possible. We now use similar way to restore the possible series of 
mistakes. Create the sequence Y_n, Y_{n-1}, etc, Y_0 by reverse shuffling the 
vector X_n. Here Y_n = X_n, Y_{n-1}=s^{-1}(X_n), etc. Fix the number of errors 
(we need to minimize it, remember). Suppose we have restored all the errors in 
the first i-1 shuffles, there are l errors left, and would like to choose 
whether we must make a error after the i-th shuffle, and if we do, where will we 
make it. We have vector X_{i-1}. Create X_i'=s(X_{i-1}). If H(X_i',Y_i) &lt;= 
2*l, we can continue without a error (we make a backtracking call, choosing X_i 
= X_i'). Also we try all possible positions for the next error, creating all 
valid vectors X_i. We continue backtracking for those of them, that have H(X_i, 
Y_i) &lt;= 2*(l - 1). </P>
<P>Final note - there is a condition that the optimal solution is unique. I did 
not try to use this fact, but it is indeed not necessarily true. For example, 
test </P><PRE>24 49 21 46 45 43 15 40 12 37 9 34 6 31 3 28 0 25 50 22 47 19 44 16 41 13 38 10 
  35 7 32 29 4 51 26 11 23 48 20 18 17 42 14 39 1 30 8 33 5 36 2 27
</PRE>
<P>has several possible solutions, lexicographically first (no error is smaller 
than any error position) is: </P><PRE>Number of shuffles = 10
Error in shuffle 1 at location 37
Error in shuffle 4 at location 31
Error in shuffle 8 at location 37
Error in shuffle 9 at location 16
Error in shuffle 10 at location 31
</PRE>
<P>lexicographically last is: </P><PRE>Number of shuffles = 10
Error in shuffle 1 at location 37
Error in shuffle 2 at location 47
Error in shuffle 4 at location 31
Error in shuffle 8 at location 37
Error in shuffle 10 at location 31
</PRE>
<P>--Andrew Stankevich </P><!-- 
NewPP limit report
Preprocessor node count: 1/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
#ifexist count: 0/100
--><!-- Saved in parser cache with key wikidb:pcache:idhash:1102-0!1!0!!en!2 and timestamp 20101213120817 -->
<DIV class=printfooter>Retrieved from "<A 
href="http://www.algorithmist.com/index.php/Talk:LA_-_cNteSahruPfefrlefe">http://www.algorithmist.com/index.php/Talk:LA_-_cNteSahruPfefrlefe</A>"</DIV>
<DIV id=catlinks class="catlinks catlinks-allhidden"></DIV><!-- end content -->
<DIV class=visualClear></DIV></DIV></DIV></DIV>
<DIV id=column-one>
<DIV id=p-cactions class=portlet>
<H5>Views</H5>
<DIV class=pBody>
<UL>
  <LI id=ca-nstab-main><A accessKey=c title="View the content page [c]" 
  href="http://www.algorithmist.com/index.php/LA_-_cNteSahruPfefrlefe">Page</A></LI>
  <LI id=ca-talk class=selected><A accessKey=t 
  title="Discussion about the content page [t]" 
  href="http://www.algorithmist.com/index.php/Talk:LA_-_cNteSahruPfefrlefe">Discussion</A></LI>
  <LI id=ca-edit class=" istalk"><A accessKey=e 
  title="You can edit this page. Please use the preview button before saving [e]" 
  href="http://www.algorithmist.com/index.php?title=Talk:LA_-_cNteSahruPfefrlefe&amp;action=edit">Edit</A></LI>
  <LI id=ca-addsection><A accessKey=+ title="Start a new section [+]" 
  href="http://www.algorithmist.com/index.php?title=Talk:LA_-_cNteSahruPfefrlefe&amp;action=edit&amp;section=new">+</A></LI>
  <LI id=ca-history><A accessKey=h title="Past revisions of this page [h]" 
  href="http://www.algorithmist.com/index.php?title=Talk:LA_-_cNteSahruPfefrlefe&amp;action=history">History</A></LI></UL></DIV></DIV>
<DIV id=p-personal class=portlet>
<H5>Personal tools</H5>
<DIV class=pBody>
<UL>
  <LI id=pt-login><A accessKey=o 
  title="You are encouraged to log in; however, it is not mandatory [o]" 
  href="http://www.algorithmist.com/index.php?title=Special:UserLogin&amp;returnto=Talk:LA_-_cNteSahruPfefrlefe">Log 
  in / create account</A></LI></UL></DIV></DIV>
<DIV id=p-logo class=portlet><A 
style="BACKGROUND-IMAGE: url(/images/3/31/Algorithmist_logo.png)" 
title="Visit the main page" 
href="http://www.algorithmist.com/index.php/Main_Page"></A></DIV>
<SCRIPT type=text/javascript> if (window.isMSIE55) fixalpha(); </SCRIPT>

<DIV id=p-navigation class="generated-sidebar portlet">
<H5>Navigation</H5>
<DIV class=pBody>
<UL>
  <LI id=n-mainpage><A accessKey=z title="Visit the main page [z]" 
  href="http://www.algorithmist.com/index.php/Main_Page">Main Page</A></LI>
  <LI id=n-Programming-Contest-Calendar><A 
  href="http://www.algorithmist.com/index.php/Programming_Contest_Calendar">Programming 
  Contest Calendar</A></LI>
  <LI id=n-UVa><A href="http://www.algorithmist.com/index.php/UVa">UVa</A></LI>
  <LI id=n-Sphere-Online-Judge><A 
  href="http://www.algorithmist.com/index.php/Sphere_Online_Judge">Sphere Online 
  Judge</A></LI>
  <LI id=n-recentchanges><A accessKey=r 
  title="The list of recent changes in the wiki [r]" 
  href="http://www.algorithmist.com/index.php/Special:RecentChanges">Recent 
  changes</A></LI>
  <LI id=n-randompage><A accessKey=x title="Load a random page [x]" 
  href="http://www.algorithmist.com/index.php/Special:Random">Random 
  page</A></LI>
  <LI id=n-help><A title="The place to find out" 
  href="http://www.algorithmist.com/index.php/Help:Contents">Help</A></LI></UL></DIV></DIV>
<DIV id=p-search class=portlet>
<H5><LABEL for=searchInput>Search</LABEL></H5>
<DIV id=searchBody class=pBody>
<FORM id=searchform action=/index.php><INPUT value=Special:Search type=hidden 
name=title> <INPUT accessKey=f id=searchInput title="Search Algorithmist" 
type=search name=search> <INPUT id=searchGoButton class=searchButton title="Go to a page with this exact name if exists" value=Go type=submit name=go>&nbsp; 
<INPUT id=mw-searchButton class=searchButton title="Search the pages for this text" value=Search type=submit name=fulltext> 
</FORM></DIV></DIV>
<DIV id=p-tb class=portlet>
<H5>Toolbox</H5>
<DIV class=pBody>
<UL>
  <LI id=t-whatlinkshere><A accessKey=j 
  title="List of all wiki pages that link here [j]" 
  href="http://www.algorithmist.com/index.php/Special:WhatLinksHere/Talk:LA_-_cNteSahruPfefrlefe">What 
  links here</A></LI>
  <LI id=t-recentchangeslinked><A accessKey=k 
  title="Recent changes in pages linked from this page [k]" 
  href="http://www.algorithmist.com/index.php/Special:RecentChangesLinked/Talk:LA_-_cNteSahruPfefrlefe">Related 
  changes</A></LI>
  <LI id=t-specialpages><A accessKey=q title="List of all special pages [q]" 
  href="http://www.algorithmist.com/index.php/Special:SpecialPages">Special 
  pages</A></LI>
  <LI id=t-print><A accessKey=p title="Printable version of this page [p]" 
  href="http://www.algorithmist.com/index.php?title=Talk:LA_-_cNteSahruPfefrlefe&amp;printable=yes" 
  rel=alternate>Printable version</A></LI>
  <LI id=t-permalink><A title="Permanent link to this revision of the page" 
  href="http://www.algorithmist.com/index.php?title=Talk:LA_-_cNteSahruPfefrlefe&amp;oldid=7865">Permanent 
  link</A></LI></UL></DIV></DIV></DIV><!-- end of the left (by default at least) column -->
<DIV class=visualClear></DIV>
<DIV id=footer>
<DIV id=f-poweredbyico><A href="http://www.mediawiki.org/"><IMG 
alt="Powered by MediaWiki" 
src="TalkLA%20-%20cNteSahruPfefrlefe%20-%20Algorithmist_files/poweredby_mediawiki_88x31.png" 
width=88 height=31></A></DIV>
<DIV id=f-copyrightico><A href="http://www.gnu.org/copyleft/fdl.html"><IMG 
alt="GNU Free Documentation License 1.2" 
src="TalkLA%20-%20cNteSahruPfefrlefe%20-%20Algorithmist_files/gnu-fdl.png" 
width=88 height=31></A></DIV>
<UL id=f-list>
  <LI id=lastmod>This page was last modified on 20 March 2006, at 19:08.</LI>
  <LI id=viewcount>This page has been accessed 885 times.</LI>
  <LI id=copyright>Content is available under <A class="external " 
  href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 
  1.2</A>.</LI>
  <LI id=privacy><A title="Algorithmist:Privacy policy" 
  href="http://www.algorithmist.com/index.php/Algorithmist:Privacy_policy">Privacy 
  policy</A></LI>
  <LI id=about><A title=Algorithmist:About 
  href="http://www.algorithmist.com/index.php/Algorithmist:About">About 
  Algorithmist</A></LI>
  <LI id=disclaimer><A title="Algorithmist:General disclaimer" 
  href="http://www.algorithmist.com/index.php/Algorithmist:General_disclaimer">Disclaimers</A></LI></UL></DIV></DIV>
<SCRIPT>if (window.runOnloadHook) runOnloadHook();</SCRIPT>
<!-- Served in 0.307 secs. --></BODY></HTML>
